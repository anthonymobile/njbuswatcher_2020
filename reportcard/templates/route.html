{% extends 'route-base.html' %}


{% block top_left %}

<p class="lead">{{routereport.description_long}}</p>

<!--
<div class="alert alert-primary" role="alert">
            <h4 class="alert-heading">Coming Soon: Route Grades</h4>
            <p class="mb-0">Soon we'll be adding grades that help you evaluate how well each bus route is doing in terms of service reliability.</p>
</div>
-->

          <a href="https://goo.gl/forms/VF5S1Oclk9QTdZha2" class="btn btn-lg btn-primary mx-1">Sign the Petition for Better Bus Service</a>



 <!--   {% if (routereport.grade=='A' or routereport.grade=='B') %}
        <div class="alert alert-primary" role="alert">
            <h4 class="alert-heading">Current Grade:{{routereport.grade}}</h4>
            <p class="mb-0"> {{routereport.grade_description}}</p>
        </div>
    {% endif %}
    {% if routereport.grade=='C' %}
        <div class="alert alert-warning" role="alert">
            <h4 class="alert-heading">Current Grade:{{routereport.grade}}</h4>
            <p class="mb-0"> {{routereport.grade_description}}</p>
        </div>
    {% endif %}
    {% if (routereport.grade=='D' or routereport.grade=='F') %}
        <div class="alert alert-danger" role="alert">
            <h4 class="alert-heading">Current Grade:{{routereport.grade}}</h4>
            <p class="mb-0"> {{routereport.grade_description}}</p>
        </div>
    {% endif %}
-->

{% endblock %}

{% block top_right %}

<div id="map"></div>


<!-- <img class="img-fluid d-block" src="/static/images/map{{routereport.route}}.jpg" > -->

<div class="btn-group">
            <a href="{{routereport.schedule_url}}" class="btn btn-outline-primary">Official Schedule (PDF)</a>
            <a href="{{routereport.moovit_url}}" class="btn btn-outline-secondary">Moovit's {{routereport.route}} Page</a>
</div>

<!--
<div class="container py-2">
          <h1 class="">Bottlenecks</h1>
          <p class="lead">Here's the stops on the {{routereport.route}} with the most bunching incidents today. Click on a stop to view the report card.</p>

        <ul class="list-group" >
                {% for stop in routereport.bunching_leaderboard %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <a href = {{url_for('genStopReport',source=routereport.source,route=routereport.route,stop=stop[2],period='daily')}}>{{stop[0]}}</a>
                      <span class="badge badge-primary badge-pill">{{stop[1]}}</span>
                    </li>
                {% endfor %}
        </ul>
</div>
-->

{% endblock %}



{% block bottom %}

<!-- new column based stop list dashboard -->

<div class="py-5">
    <div class="container">
          <h1 class="">Stop Reports</h1>
        <p class="lead">Here are the currently running services. Click on a stop to see a detailed report.



<!-- after https://stackoverflow.com/questions/16071864/how-to-create-tables-from-column-data-instead-of-row-data-in-html -->
<div class="table-responsive">
<table class="table table-borderless">
<tr>

{% for path in routereport.route_stop_list %}

<td>
    <table class="table-sm table-light ">
        <thead>
            <tr>
                <td><p class="lead">To {{path.dd}}</p></td>
            </tr>
        </thead>
        <tbody>
        {% for stop in path.stops %}
            <tr>
                <td><a class="dropdown-item" href = {{url_for('genStopReport',source=routereport.source,route=routereport.route,stop=stop.identity,period='daily') }} id="{{stop.st}}">{{stop.st}}</a></td>

            </tr>
        {% endfor %}

        </tbody>
    </table>
</td>

{% endfor %}


</tr>
</table>
    </div>



{% endblock %}


{% block reliability_report %}
<!-- FUTURE reliability report v1 -- coming soon, histogram of travel time based on differential arrival time of same bus id at 1st, last and middlest stop # of std deviations -->

{% endblock %}

